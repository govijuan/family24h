function displayModal(e){"use strict";button.hasClass("btn-danger")&&(button.removeClass("btn-danger"),button.addClass("btn-success")),"lock"===e&&(title[0].innerHTML="Lock your phone",avatar[0].src="/images/ic_phonelink_lock_black_48px.svg",description[0].innerHTML="You can lock your phone and combine with others actions",button[0].innerHTML="Lock",button[0].setAttribute("onclick","confirmModal('lock');")),"ring"===e&&(title[0].innerHTML="Ring your phone",avatar[0].src="/images/ic_speaker_phone_black_48px.svg",description[0].innerHTML="You can ring your phone and combine with others actions",button[0].innerHTML="Ring",button[0].setAttribute("onclick","notification('ring');")),"wipe"===e&&(title[0].innerHTML="Wipe your phone",avatar[0].src="/images/ic_phonelink_erase_black_48px.svg",description[0].innerHTML="You can lock your phone and combine with others actions",button[0].innerHTML="Wipe",button[0].setAttribute("onclick","confirmModal('wipe');"),button.removeClass("btn-success"),button.addClass("btn-danger")),modal.fadeIn("slow")}function confirmModal(e){"use strict";title[0].innerHTML="Confirm your password",avatar[0].parentNode.parentNode.remove(this),description[0].innerHTML="<input type='password' name='confirm[password]' id='confirm[password]'/>","lock"===e&&(button[0].innerHTML="Lock",button[0].setAttribute("onclick","notification('lock');")),"wipe"===e&&(button[0].innerHTML="Wipe",button[0].setAttribute("onclick","notification('wipe');"),button.removeClass("btn-success"),button.addClass("btn-danger")),modal.fadeIn("slow")}function notification(e){"use strict";var n="/notification-messages",o=document.getElementsByName("confirm[password]"),t="&password="+o[0].value,i="&code=",a="&event_id=",r="&data={}",s=guid();"lock"==e&&(i+="device:locked",flash.innerHTML+="<p>Device locked.</p>"),"unlock"==e&&(i+="device:unlocked",flash.innerHTML+="<p>Device unlocked.</p>"),"ring"==e&&(i+="buzzer/turn-on",flash.innerHTML+="<p>Device ringing.</p>"),"wipe"==e&&(i+="device:wipe",flash.innerHTML+="<p>Device's data wiped.</p>"),a+=s;var c=i+r+a;"lock"==e&&(c+=t),$.ajax({url:api_url+n,type:"POST",data:c+"&api_key="+api_key,crossDomain:!0,statusCode:{202:function(e){console.log(e)},400:function(e){console.log(e)},404:function(e){console.log(e)}}}),$(".confirm-modal").fadeOut("slow"),flash.className+=" alert-success",flash.fadeIn("slow")}function showPosition(e){"use strict";var n=e.coords.latitude,o=e.coords.longitude,t=new google.maps.LatLng(n,o),i={zoom:15,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP},a=document.getElementById("mapdiv"),r=new google.maps.Map(a,i),s={map:r,position:t,title:"Hi , I am here",animation:google.maps.Animation.DROP},c=new google.maps.Marker(s),l=new google.maps.Geocoder;l.geocode({latLng:t},function(e,n){if(n==google.maps.GeocoderStatus.OK)if(e[1]){var o={content:e[1].formatted_address,position:t},i=new google.maps.InfoWindow(o);google.maps.event.addListener(c,"click",function(){i.open(r)})}else flash.innerHTML+="<p>No results found.</p>";else flash.innerHTML+="<p>Geocoder failed due to: "+n+"</p>"}),fadeIn(a)}function stopWatch(){"use strict";watchId&&(navigator.geolocation.clearWatch(watchId),watchId=null)}function resizeSidebar(){"use strict";var e=window.innerHeight,n=document.getElementsByClassName("button__bar"),o=document.getElementsByClassName("top"),t=document.getElementById("mapdiv");n[0].style.height=e-o[0].offsetHeight+"px",t.style.height=e-o[0].offsetHeight+"px"}var modal=$(".confirm-modal"),title=$(".confirm-modal h3"),avatar=$(".confirm-modal img"),description=$(".confirm-modal p"),button=$(".confirm-modal .btn"),watchId=null;$(document).ready(function(){validateCookie(function(){for(var e=document.querySelectorAll(".telephone"),n=document.querySelectorAll(".name"),o=document.querySelectorAll(".email"),t=document.querySelectorAll(".profile_picture_url"),i=0;i<=e.length-1;i++)e[i].innerHTML=user_data.telephone,n[i].innerHTML=user_data.name,o[i].innerHTML=user_data.email,t[i].innerHTML=user_data.profile_picture_url;$(".dashboard-content").show(),$(".preloader").fadeOut("fast")},__default_cookie_error),$(".user-config").click(function(){$(".config-box").toggle()}),$(".confirm-modal .close").click(function(){$(this).parent().fadeOut("slow")}),$("#flash .close").click(function(){$(this).parent().fadeOut("slow")})}),"complete"==document.readyState?resizeSidebar():window.addEventListener?window.addEventListener("load",resizeSidebar,!1):window.attachEvent("onload",resizeSidebar),window.addEventListener("resize",resizeSidebar,!1);